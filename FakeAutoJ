local CoreGui = game:GetService("CoreGui")

_G.UiName = nil
_G.AutoJoining = false

local ScreenGui
if _G.UiName then
    ScreenGui = CoreGui:FindFirstChild(_G.UiName)
    if ScreenGui then
        ScreenGui:Destroy()
        ScreenGui = Instance.new("ScreenGui")
    end
else
    ScreenGui = Instance.new("ScreenGui")
end

ScreenGui.Parent = CoreGui
ScreenGui.Name = math.random(0, 1000000)

_G.UiName = ScreenGui.Name

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 200, 0, 80)
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.Parent = ScreenGui
frame.Position = UDim2.new(0.8, 0, 0.8, 0)
frame.BackgroundColor3 = Color3.fromRGB(83, 83, 83)
frame.Active = true
frame.Draggable = true

local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 85, 0, 40)
button.Position = UDim2.new(0, 10, 0, 10)
button.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
button.Text = "Start Autojoiner"
button.TextScaled = true
button.Parent = frame
button.BorderSizePixel = 0
button.TextColor3 = Color3.fromRGB(255,255,255)

if _G.AutoJoining then
    button.Text = "Stop Autojoiner"
    button.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
end

local min = Instance.new("TextBox")
min.Parent = frame
min.Size = UDim2.new(0, 85, 0, 40)
min.Position = UDim2.new(0, 105, 0, 10)
min.Text = "10000000"
min.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
min.TextScaled = true
min.Parent = frame
min.BorderSizePixel = 0
min.TextColor3 = Color3.fromRGB(255,255,255)

button.MouseButton1Click:Connect(function()
    _G.AutoJoining = not _G.AutoJoining
    if _G.AutoJoining then
        button.Text = "Stop Autojoiner"
        button.BackgroundColor3 = Color3.fromRGB(170, 0, 0)

        if not game.Loaded then
            game.Loaded:Wait()
        end
        
        local highestValue = 0

        for _, plot in workspace.Plots:GetChildren() do
            local sign = plot:FindFirstChild("PlotSign").SurfaceGui.Frame.TextLabel
            if sign and string.find(sign.Text, game.Players.LocalPlayer.Name) then
                for _, Podium in plot.AnimalPodiums:GetChildren() do
                    local Base = Podium:FindFirstChild("Base")
                    if Base then
                        local Spawn = Base:FindFirstChild("Spawn")
                        if Spawn then
                            local Attachment = Spawn:FindFirstChild("Attachment")
                            if Attachment then
                                local AnimalOverhead = Attachment:FindFirstChild("AnimalOverhead")
                                if AnimalOverhead then
                                    local Cps = AnimalOverhead.Generation.Text
                                    local value = tonumber(string.match(Cps, "%d+%.?%d*")) * 1000
                                    
                                    if value > highestValue then
                                        highestValue = value
                                    end
                                end
                            end
                        end
                    end
                end
            end
        end

        if highestValue <= (tonumber(min.Text) or 0) then
            game:GetService("TeleportService"):Teleport(game.PlaceId, game.Players.LocalPlayer)
        end
    else
        button.Text = "Start Autojoiner"
        button.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
    end
end)

game.LocalPlayer.OnTeleport:Connect(function(State)
	queueteleport("loadstring(game:HttpGet('https://raw.githubusercontent.com/N3ltar/ScriptsSecret/refs/heads/main/FakeAutoJ'))()")
end)
